# Development docker-compose configuration for Docling MCP Server
# Usage: docker-compose -f docker-compose.mcp-pro.yml -f docker-compose.development.yml up docling-mcp

version: '3.8'

services:
  docling-mcp:
    environment:
      # Development-specific configuration overrides
      DOCLING_MCP_ENVIRONMENT: development
      DOCLING_MCP_LOGGING__LEVEL: DEBUG
      DOCLING_MCP_PERFORMANCE__TOOL_TIMEOUT: 60.0
      DOCLING_MCP_PERFORMANCE__MAX_CONNECTIONS: 50
      DOCLING_MCP_SECURITY__ENABLE_RATE_LIMITING: "false"
      DOCLING_MCP_DOCLING__MAX_FILE_SIZE: 52428800  # 50MB for development
    volumes:
      # Additional development volumes
      - ./config/development.yaml:/srv/config/development.yaml:ro
      - ./logs:/var/log  # Local logs for development
    ports:
      # Expose additional ports for development
      - "3020:3020"
      - "3021:3020"  # Alternative port for testing
    command: >
      sh -lc "
      echo 'Starting Docling MCP Server in DEVELOPMENT mode...' &&
      echo 'Configuration loaded from development environment' &&
      python docling_mcp_server.py --environment development
      "