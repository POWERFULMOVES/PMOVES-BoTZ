
services:
  # Local Postman MCP (STDIO) for environments without remote HTTP
  postman-mcp-local:
    image: node:20-alpine
    working_dir: /srv
    environment:
      POSTMAN_API_KEY: ${POSTMAN_API_KEY}
    entrypoint: ["sh","-lc"]
    command: >
      "npx @postman/postman-mcp-server@latest --full"
    # Note: STDIO runs inside the container; connect via a process-capable MCP client (e.g., Kilo Code 'process' config).
    networks: [default, pmoves_ai]
    restart: unless-stopped

networks:
  default:
    name: ${PMZ_NAMESPACE:-pmoves-botz}_net
  pmoves_ai:
    external: true
    name: ${PMOVES_AI_NETWORK:-pmoves}
